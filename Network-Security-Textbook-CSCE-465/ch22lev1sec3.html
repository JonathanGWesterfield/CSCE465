<html><head><title>22.3. Key Distribution</title><title>TeamUnknown</title><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/globalstyle.css" /><link href="includes/searchResults.css" rel="stylesheet" type="text/css" /><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/style.css" /><link rel="STYLESHEET" type="text/css" href="portals/bvdep/xsltemplates/docsafari.css" /><body><table width="100%" border="0" cellspacing="0" cellpadding="0"><td class="docBookTitle"><a href="toc.html"><b>[ Team Unknown ]</b></a></td></table><td align="center"><a name="MainContent"></a><table width="95%"><tr><td align="left" class="v2"><!--Copyright (c) 2002 Safari Tech Books Online--><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span>
            &nbsp;<span style="white-space:nowrap">&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="ch22lev1sec2.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="ch22lev1sec4.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><div id="section"><br /><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">Networking Security Networking Security Networking Security Security Networking Security Networking Security Networking Charlie Kaufman Radia Perlman Mike Speciner Prentice Hall Network Security: Private Communication in a Public World, Second Edition<a name="ch22lev1sec3"></a>
<h3 id="title-IDAVFIYR" class="docSection1Title">22.3. Key Distribution</h3>
<p class="docText">PGP uses public key cryptography for personal keys. The most important differences between PGP, PEM, and S/MIME lie in how public keys are certified and how certificate chains are verified. PEM assumes a rigid hierarchy of CAs. PGP assumes anarchy. S/MIME is agnostic, but as deployed assumes a number of parallel independent hierarchies, a subset of which are trusted by each user. With PGP, each user decides which keys to trust. If Bob has talked in person to Alice, and Alice has written down her key for him, Bob can store Alice's public key and trust that it is hers. If he trusts Alice sufficiently, and Bob receives a certificate signed by Alice's key that says Carol's public key is <span class="docEmphasis">P</span>, then Bob can trust that <span class="docEmphasis">P</span> really does belong to Carol.</p>
<p class="docText">While with PEM the infrastructure decides whom you should trust to certify people, PGP leaves it up to you. This means PEM is potentially more convenient, while PGP is potentially more secure (if you're careful). It also means that PEM is unusable until you &quot;hook into&quot; an infrastructure. Deployment of PEM was held up for years trying to settle the details of how that infrastructure would work. PGP is easy to use &quot;out of the box&quot;, but it's an open question whether it will be able to scale to large environments.</p>
<p class="docText">In the PEM model, finding a path of certificates is very simple. The certificate chain follows the naming hierarchy (approximately), and the path is simpleÂone simply goes down from the root (the Internet PCA Registration Authority).</p>
<p class="docText">Knowing whether to trust a path is simple in PEM. There is only one path and you are expected to trust it. S/MIME assumes there are multiple certificate hierarchies, and software will be configured with which ones to trust. You trust all certificates in a trusted hierarchy.</p>
<blockquote>
<p class="docText"><span class="docEmphasis">You can trust me.</span></p>
<p class="docText">Âused car salesman, Westboro, MA, April 4, 1993</p></blockquote>
<p class="docText">PGP doesn't require certificates at all, though they can make life simpler. To send someone encrypted mail or to verify their signature, you need to know their public key. People publish their PGP fingerprints (cryptographic hashes of public keys) on their web sites, on their business cards, or even in their books. For example, my<sub>1</sub> PGP fingerprint is 29 6F 4B E2 56 FF 36 2F AB 49 DF DF B9 4C BE E1. They are also short enough to be read over the phone.</p>
<p class="docText">Certificates are an optional in PGP. Anyone can issue a certificate to anyone else. And users decide whose certificates they are willing to trust in authenticating someone. As a result, with PGP there might be several certificate paths to a particular person. For instance, you might have the following certificates:</p>
<p><table cellspacing="0" class="allBorders" border="1" rules="rows" cellpadding="4"><colgroup align="center" span="2"><col width="125"></col><col width="100"></col></colgroup><thead></thead><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><span class="docEmphRomanAlt">Carol's key is <span class="docEmphasis">P</span><sub>1</sub></span></p></td><td class="docTableCell" align="center" valign="top"><p class="docText">signed with <span class="docEmphasis">P</span><sub>2</sub></p></td></tr><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><span class="docEmphRomanAlt">Alice's key is <span class="docEmphasis">P</span><sub>2</sub></span></p></td><td class="docTableCell" align="center" valign="top"><p class="docText">signed with <span class="docEmphasis">P</span><sub>4</sub></p></td></tr><tr><td class="docTableCell" align="center" valign="top"><p class="docText"><span class="docEmphRomanAlt">Carol's key is <span class="docEmphasis">P</span><sub>1</sub></span></p></td><td class="docTableCell" align="center" valign="top"><p class="docText">signed with <span class="docEmphasis">P</span><sub>5</sub></p></td></tr></table></p><br />
<p class="docText">It might even be the case that the last certificate instead said</p>
<p><table cellspacing="0" class="allBorders" border="1" rules="none" cellpadding="5"><colgroup align="left" span="2"><col width="125"></col><col width="100"></col></colgroup><thead></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphRomanAlt">Carol's key is <span class="docEmphasis">P</span><sub>3</sub></span></p></td><td class="docTableCell" align="left" valign="top"><p class="docText">signed with <span class="docEmphasis">P</span><sub>5</sub></p></td></tr></table></p><br />
<p class="docText">There are several issues:</p>
<ul><li><p class="docList">You might have a disorganized mass of certificates. How can you find a chain that leads from a key you know to Carol's key?</p></li><li><p class="docList">There might be multiple chains, and some might lead to different keys for Carol.</p></li><li><p class="docList">If you do find a chain, how much do you trust that chain?</p></li></ul>
<p class="docText">In order to trust a chain of certificates you have to believe that the first public key in the chain really belongs to whom you think it does, and that you trust every individual in the chain. Should you trust a certificate signed by what you believe is Ted's key? Even if you're sure that Ted's public key is <span class="docEmphasis">P</span><sub>5</sub>, can you trust Ted not to certify anything in sight for a $100 bribe? Even if Ted is honest, can you trust him not to be sloppy about checking that the key really belongs to the named person? In other words, are Ted's pre-certification policies and procedures for authenticating users adequate?</p>
<p class="docText">Suppose Ted is honest and usually very careful about checking a key before signing a certificate. Suppose Carol is Ted's ex-spouse, from whom he had a bitter divorce. Should you then trust Ted's signature to certify Carol's public key?</p>
<p class="docText">PGP cannot answer these questions, of course. Not even people can really answer these questions. But PGP asks you for advice, and stores with each key a quantity indicating how much the key should be trusted as being legitimate and how much the owner of the key should be trusted in certifying other keys. With a particular signature (as in the case where you'd trust Ted to certify just about any key except Carol's), PGP also asks its user for advice and stores information about how much that particular signature should be trusted.</p>
<p class="docText">It's worth noting that the commercial version of PGP tried to address these issues with a less anarchistic structure. That's because it was marketed to organizations where the users were not considered sufficiently motivated and competent to make the right decisions, but where the system administrators were.</p>
<ul></ul></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="middle" class="v2" height="5"><img src="pixel.gif" width="1" height="5" alt="" border="0" /></td></tr><tr><td valign="middle" class="v2"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><span style="white-space:nowrap">&nbsp;</span>
                  &nbsp;
                  <span style="white-space:nowrap"> &nbsp;&nbsp;</span>
            &nbsp;<span style="white-space:nowrap">&nbsp;</span></td></tr></table></td><td></td><td valign="middle" class="v2" align="right"> 
          &nbsp;
          <span style="white-space:nowrap"><a target="_self" href="ch22lev1sec2.html" title="Previous section"><img border="0" align="absmiddle" src="btn_prev.gif" alt="Previous section" id="btn_prev" /></a></span>
				
				&nbsp;
				
				<span style="white-space:nowrap"><a target="_self" href="ch22lev1sec4.html" title="Next section"><img border="0" align="absmiddle" src="btn_next.gif" alt="Next section" id="btn_next" /></a></span></td></tr></table><table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td valign="top" align="right"><span style="white-space:nowrap"><a target="_self" href="#toppage" title="Top"></a></span></td></tr></table></div><!--IP User 2--></td></tr></table></td></body></head></html>